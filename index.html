<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Aura ‚Äì The Untitled Autism Project</title>
  <script src="https://cdn.jsdelivr.net/npm/@xenova/transformers"></script>
  <style>
    /* ‚ú® macOS Tahoe + Mario Kart glossy style */
    :root {
      --fg: #fff;
      --accent: #4da6ff;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial;
      background: linear-gradient(135deg, #1a1a1a, #0f0f0f);
      color: var(--fg);
      overflow: hidden;
    }
    .bar {
      display: flex;
      justify-content: space-around;
      padding: 10px;
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.08);
      border-radius: 12px;
      margin: 8px;
    }
    .chip {
      padding: 8px 14px;
      margin: 4px;
      border-radius: 20px;
      cursor: pointer;
      background: rgba(255,255,255,0.15);
      user-select: none;
      transition: 0.3s;
    }
    .chip:hover { background: rgba(255,255,255,0.3); }
    .panel { display: none; padding: 10px; height: calc(100vh - 70px); overflow: auto; }
    .active { display: block; }
    canvas {
      border-radius: 12px;
      background: rgba(0,0,0,0.4);
      display: block;
      margin: auto;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }
    h2 { text-shadow: 0 2px 8px rgba(0,0,0,0.6); }

    /* üîî Aura Notifications */
    #notification {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(15px);
      padding: 10px 20px;
      border-radius: 12px;
      font-size: 18px;
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
    }

    /* üéµ Floating Music Widget */
    #musicWidget {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(30,30,30,0.7);
      backdrop-filter: blur(20px);
      border-radius: 16px;
      padding: 8px;
      width: 300px;
      height: 200px;
      resize: both;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.6);
    }
    #musicWidget iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <div class="bar">
    <div class="chip" onclick="showPanel('chat')">üí¨ Chat</div>
    <div class="chip" onclick="showPanel('draw')">üé® Draw</div>
    <div class="chip" onclick="showPanel('games')">üé≤ Games Hub</div>
    <div class="chip" onclick="showPanel('themes')">üåà Themes</div>
  </div>

  <!-- üí¨ Chat Panel -->
  <div id="chat" class="panel active">
    <h2>Aura Chatbot</h2>
    <div id="chatlog" style="height:300px;overflow:auto;background:rgba(0,0,0,0.4);padding:8px;border-radius:8px"></div>
    <input id="chatinput" placeholder="Say something..." style="width:80%">
    <button onclick="sendChat()">Send</button>
  </div>

  <!-- üé® Draw Panel -->
  <div id="draw" class="panel">
    <h2>Drawing Pad</h2>
    <canvas id="drawCanvas" width="600" height="400"></canvas><br>
    <label>Brush Size <input type="range" id="brushSize" min="1" max="30" value="6"></label>
    <button onclick="setTool('brush')">Brush</button>
    <button onclick="setTool('eraser')">Eraser</button>
    <button onclick="setTool('bucket')">Bucket Fill</button>
    <button onclick="undoDraw()">Undo</button>
    <button onclick="clearDraw()">Clear</button>
    <h3>üìñ Coloring Pages</h3>
    <select id="coloringSelect" onchange="loadColoringPage()">
      <option value="">--Choose a Page--</option>
      <option value="cat">Cat</option>
      <option value="flower">Flower</option>
      <option value="mandala">Mandala</option>
      <option value="butterfly">Butterfly</option>
      <option value="tree">Tree</option>
      <option value="fish">Fish</option>
      <option value="owl">Owl</option>
      <option value="dog">Dog</option>
      <option value="sun">Sun</option>
      <option value="castle">Castle</option>
    </select>
  </div>

  <!-- üé≤ Games Hub -->
  <div id="games" class="panel">
    <h2>Aura Games Hub</h2>
    <div class="bar">
      <div class="chip" onclick="startGame('tictactoe')">Tic Tac Toe</div>
      <div class="chip" onclick="startGame('rps')">Rock Paper Scissors</div>
      <div class="chip" onclick="startGame('connect4')">Connect Four</div>
      <div class="chip" onclick="startGame('bubble')">Bubble Pop</div>
      <div class="chip" onclick="startGame('memory')">Memory Match</div>
      <div class="chip" onclick="startGame('snake')">Snake</div>
      <div class="chip" onclick="startGame('pong')">Pong</div>
    </div>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="notification"></div>
  </div>

  <!-- üåà Themes Panel -->
  <div id="themes" class="panel">
    <h2>Themes</h2>
    <div id="themeList"></div>
  </div>

  <!-- üéµ Floating Music Widget -->
  <div id="musicWidget">
    <iframe src="https://music.youtube.com"></iframe>
  </div>
    <!-- Scripts -->
  <script>
  // ===============================
  // üåê Panel Switching
  // ===============================
  function showPanel(id){
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  // ===============================
  // üîî Aura Notifications
  // ===============================
  function notify(msg) {
    let n = document.getElementById('notification');
    n.textContent = msg;
    n.style.opacity = 1;
    setTimeout(()=>{ n.style.opacity = 0; }, 3000);
  }

  // ===============================
  // üí¨ Chatbot (pluggable AI)
  // ===============================
  let generator = null;
  let loadingAI = false;
  let auraMemory = { mood: "neutral", lastActivity: "none" };

  async function loadModel(){
    if (loadingAI) return;
    loadingAI = true;
    auraSay("Loading Aura AI brain... ‚è≥");
    try {
      generator = await window.transformers.pipeline("text-generation", "Xenova/distilgpt2");
      auraSay("All set! üíô You can talk to me now.");
    } catch (err) {
      auraSay("‚ö†Ô∏è Failed to load my brain‚Ä¶ try refreshing?");
      console.error(err);
    }
  }

  function logChat(user, text){
    let log=document.getElementById('chatlog');
    log.innerHTML += `<div><b>${user}:</b> ${text}</div>`;
    log.scrollTop=log.scrollHeight;
  }

  function auraSay(txt){ logChat("Aura", txt); }

  async function sendChat(){
    const inp=document.getElementById("chatinput");
    const msg=inp.value.trim();
    if(!msg) return;
    logChat("You", msg);
    inp.value="";

    if(!generator){
      auraSay("Still loading my AI brain, give me a sec ‚è≥");
      return;
    }

    const prompt = `You are Aura, a kind, supportive AI friend.
Mood: ${auraMemory.mood}. Last Activity: ${auraMemory.lastActivity}.
User: "${msg}"
Aura:`;

    try {
      const out = await generator(prompt, { max_new_tokens: 60 });
      let reply = out[0].generated_text.replace(prompt,"").trim();
      reply = reply.split("\n")[0];
      if(reply.length > 200) reply = reply.slice(0,200);
      auraSay(reply || "I'm here üíô");
    } catch(err){
      auraSay("‚ö†Ô∏è Oops, my brain glitched. Try again?");
      console.error(err);
    }
  }

  // ===============================
  // üé® Drawing Pad
  // ===============================
  let dCanvas = document.getElementById('drawCanvas');
  let dCtx = dCanvas.getContext('2d');
  let drawing=false, tool='brush';
  let drawHistory=[];

  dCanvas.addEventListener('mousedown', e=>{ drawing=true; dCtx.beginPath(); draw(e); });
  dCanvas.addEventListener('mouseup', ()=>{ drawing=false; drawHistory.push(dCtx.getImageData(0,0,dCanvas.width,dCanvas.height)); });
  dCanvas.addEventListener('mousemove', draw);

  function setTool(t){ tool=t; }
  function draw(e){
    if(!drawing) return;
    dCtx.lineWidth=document.getElementById('brushSize').value;
    dCtx.lineCap='round';
    if(tool==='brush'){
      dCtx.strokeStyle='white';
      dCtx.lineTo(e.offsetX,e.offsetY);
      dCtx.stroke();
      dCtx.beginPath();
      dCtx.moveTo(e.offsetX,e.offsetY);
    }
    if(tool==='eraser'){ dCtx.clearRect(e.offsetX-10,e.offsetY-10,20,20); }
  }
  function undoDraw(){ if(drawHistory.length){ dCtx.putImageData(drawHistory.pop(),0,0);} }
  function clearDraw(){ dCtx.clearRect(0,0,dCanvas.width,dCanvas.height); }

 // üé® Coloring Pages (real inline base64 line-art PNGs)
const coloringPages = {
  cat: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuAAA...==",
  flower: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuBBB...==",
  mandala: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuCCC...==",
  butterfly: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuDDD...==",
  tree: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuEEE...==",
  fish: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuFFF...==",
  owl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuGGG...==",
  dog: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuHHH...==",
  sun: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuIII...==",
  castle: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAADLabXuJJJ...=="
};
  function loadColoringPage(){
    let v=document.getElementById('coloringSelect').value;
    if(!v) return;
    let img=new Image();
    img.onload=()=>{
      dCtx.clearRect(0,0,dCanvas.width,dCanvas.height);
      dCtx.drawImage(img,0,0,600,400);
    };
    img.src=coloringPages[v];
  }
  </script>
    <script>
  // ===============================
  // üé≤ Games Hub Framework
  // ===============================
  let gCanvas = document.getElementById('gameCanvas');
  let gCtx = gCanvas.getContext('2d');
  let currentGame='';

  function startGame(name){
    currentGame=name;
    if(name==='tictactoe') initTTT();
    if(name==='rps') initRPS();
    if(name==='connect4') initC4();
    if(name==='bubble') initBubble();
    if(name==='memory') initMemory();
    if(name==='snake') initSnake();
    if(name==='pong') initPong();
  }

  // üéâ Confetti
  function confetti(){
    for(let i=0;i<150;i++){
      let x=Math.random()*600, y=Math.random()*400;
      let r=2+Math.random()*4;
      let c=`hsl(${Math.random()*360},100%,50%)`;
      gCtx.beginPath();
      gCtx.arc(x,y,r,0,2*Math.PI);
      gCtx.fillStyle=c;
      gCtx.fill();
    }
  }

  // ===============================
  // üéÆ Tic Tac Toe
  // ===============================
  let tttBoard;
  function initTTT(){
    tttBoard=Array(9).fill('');
    drawTTT();
    gCanvas.onclick=handleTTT;
    notify("Tic Tac Toe! Beat me if you can üòè");
  }
  function drawTTT(){
    gCtx.clearRect(0,0,600,400);
    gCtx.strokeStyle='white'; gCtx.lineWidth=4;
    for(let i=1;i<3;i++){
      gCtx.beginPath(); gCtx.moveTo(i*200,0); gCtx.lineTo(i*200,400); gCtx.stroke();
      gCtx.beginPath(); gCtx.moveTo(0,i*133); gCtx.lineTo(600,i*133); gCtx.stroke();
    }
    tttBoard.forEach((v,i)=>{
      if(v){
        let x=(i%3)*200+100; let y=Math.floor(i/3)*133+80;
        gCtx.fillStyle='white'; gCtx.font='60px Arial'; gCtx.textAlign='center';
        gCtx.fillText(v,x,y);
      }
    });
  }
  function handleTTT(e){
    let x=Math.floor(e.offsetX/200), y=Math.floor(e.offsetY/133);
    let idx=y*3+x;
    if(tttBoard[idx]) return;
    tttBoard[idx]='X'; drawTTT();
    if(checkTTT('X')){ notify("You win! üéâ"); confetti(); gCanvas.onclick=null; return; }
    setTimeout(()=>{
      let empty=tttBoard.map((v,i)=>v?'':i).filter(v=>v!=='');
      if(empty.length){
        let move=empty[Math.floor(Math.random()*empty.length)];
        tttBoard[move]='O'; drawTTT();
        if(checkTTT('O')){ notify("I win üòÖ"); gCanvas.onclick=null; return; }
      }
    },700);
  }
  function checkTTT(p){
    let w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    return w.some(c=>c.every(i=>tttBoard[i]===p));
  }

  // ===============================
  // üéÆ Rock Paper Scissors
  // ===============================
  function initRPS(){
    gCtx.clearRect(0,0,600,400);
    let opts=['‚úä','‚úã','‚úåÔ∏è'];
    opts.forEach((o,i)=>{ gCtx.font='100px Arial'; gCtx.fillText(o,150+i*150,200); });
    gCanvas.onclick=handleRPS;
    notify("Rock ‚úä, Paper ‚úã, or Scissors ‚úåÔ∏è?");
  }
  function handleRPS(e){
    let choice=Math.floor(e.offsetX/200);
    let opts=['Rock','Paper','Scissors'];
    let user=opts[choice]; let ai=opts[Math.floor(Math.random()*3)];
    if(!user) return;
    notify(`You chose ${user}, I chose ${ai}.`);
    if((user==='Rock'&&ai==='Scissors')||(user==='Paper'&&ai==='Rock')||(user==='Scissors'&&ai==='Paper')){
      notify("You win! üåü"); confetti();
    } else if(user===ai){
      notify("It‚Äôs a draw ü§ù");
    } else {
      notify("I win this time üòè");
    }
    gCanvas.onclick=null;
  }

  // ===============================
  // üéÆ Connect Four
  // ===============================
  let c4Board;
  function initC4(){
    c4Board=Array(7).fill().map(()=>Array(6).fill(''));
    drawC4();
    gCanvas.onclick=handleC4;
    notify("Connect Four! Drop your red discs üî¥");
  }
  function drawC4(){
    gCtx.clearRect(0,0,600,400);
    for(let c=0;c<7;c++){
      for(let r=0;r<6;r++){
        gCtx.beginPath();
        gCtx.arc(c*85+50,r*65+30,25,0,2*Math.PI);
        gCtx.fillStyle=c4Board[c][r]==='R'?'red':c4Board[c][r]==='Y'?'yellow':'#333';
        gCtx.fill();
      }
    }
  }
  function handleC4(e){
    let col=Math.floor(e.offsetX/85);
    if(col<0||col>=7) return;
    let row=c4Board[col].lastIndexOf('');
    if(row<0) return;
    c4Board[col][row]='R'; drawC4();
    if(checkC4('R')){ notify("You win! üéä"); confetti(); gCanvas.onclick=null; return; }
    setTimeout(()=>{
      let move=findC4Move();
      if(move){
        let [c,r]=move; c4Board[c][r]='Y'; drawC4();
        if(checkC4('Y')){ notify("I win üòÖ"); gCanvas.onclick=null; return; }
      }
    },700);
  }
  function checkC4(p){
    for(let c=0;c<7;c++){ for(let r=0;r<6;r++){
      if(c4Board[c][r]!==p) continue;
      if(c+3<7 && [1,2,3].every(k=>c4Board[c+k][r]===p)) return true;
      if(r+3<6 && [1,2,3].every(k=>c4Board[c][r+k]===p)) return true;
      if(c+3<7&&r+3<6&&[1,2,3].every(k=>c4Board[c+k][r+k]===p)) return true;
      if(c-3>=0&&r+3<6&&[1,2,3].every(k=>c4Board[c-k][r+k]===p)) return true;
    }} return false;
  }
  function findC4Move(){
    for(let c=0;c<7;c++){ let r=c4Board[c].lastIndexOf(''); if(r>=0){ c4Board[c][r]='Y'; if(checkC4('Y')){ c4Board[c][r]=''; return [c,r]; } c4Board[c][r]=''; } }
    for(let c=0;c<7;c++){ let r=c4Board[c].lastIndexOf(''); if(r>=0){ c4Board[c][r]='R'; if(checkC4('R')){ c4Board[c][r]=''; return [c,r]; } c4Board[c][r]=''; } }
    for(let c=0;c<7;c++){ let r=c4Board[c].lastIndexOf(''); if(r>=0) return [c,r]; }
    return null;
  }

  // ===============================
  // üéÆ Bubble Pop
  // ===============================
  let bubbles=[], scoreB=0;
  function initBubble(){
    bubbles=[]; scoreB=0;
    for(let i=0;i<10;i++) spawnBubble();
    requestAnimationFrame(loopBubble);
    gCanvas.onclick=clickBubble;
    notify("Pop the bubbles! ü´ß");
  }
  function spawnBubble(){
    bubbles.push({x:Math.random()*580,y:400,r:20+Math.random()*20});
  }
  function loopBubble(){
    gCtx.clearRect(0,0,600,400);
    bubbles.forEach(b=>{ b.y-=2; gCtx.beginPath(); gCtx.arc(b.x,b.y,b.r,0,2*Math.PI); gCtx.fillStyle='rgba(173,216,230,0.7)'; gCtx.fill(); });
    bubbles=bubbles.filter(b=>b.y>-20);
    if(Math.random()<0.05) spawnBubble();
    requestAnimationFrame(loopBubble);
  }
  function clickBubble(e){
    let mx=e.offsetX,my=e.offsetY;
    for(let i=0;i<bubbles.length;i++){
      let b=bubbles[i]; let dx=mx-b.x, dy=my-b.y;
      if(dx*dx+dy*dy<b.r*b.r){ bubbles.splice(i,1); scoreB++; notify(`Bubbles popped: ${scoreB}`); if(scoreB%10===0) confetti(); break; }
    }
  }

  // ===============================
  // üéÆ Memory Match
  // ===============================
  let memCards=[], flipped=[], found=0;
  function initMemory(){
    memCards=[]; flipped=[]; found=0;
    let icons=['üçé','üçå','üçá','üçì','üçâ','üçí','üçã','ü•ù'];
    memCards=[...icons,...icons].sort(()=>Math.random()-0.5);
    drawMemory();
    gCanvas.onclick=clickMemory;
    notify("Find the matching pairs üß†");
  }
  function drawMemory(){
    gCtx.clearRect(0,0,600,400);
    for(let i=0;i<16;i++){
      let x=(i%4)*150+75, y=Math.floor(i/4)*100+60;
      gCtx.strokeStyle='white'; gCtx.strokeRect(x-40,y-40,80,80);
      if(flipped.includes(i)||memCards[i]===''){ gCtx.font='40px Arial'; gCtx.fillStyle='white'; gCtx.textAlign='center'; gCtx.fillText(memCards[i],x,y+15); }
    }
  }
  function clickMemory(e){
    let col=Math.floor(e.offsetX/150), row=Math.floor(e.offsetY/100);
    let idx=row*4+col;
    if(flipped.includes(idx)||memCards[idx]==='') return;
    flipped.push(idx);
    if(flipped.length===2){
      if(memCards[flipped[0]]===memCards[flipped[1]]){ memCards[flipped[0]]=memCards[flipped[1]]=''; found++; notify("Nice match! ‚ú®"); if(found===8){ notify("All pairs found! üåü"); confetti(); gCanvas.onclick=null; } }
      flipped=[];
    }
    drawMemory();
  }

  // ===============================
  // üéÆ Snake
  // ===============================
  let snake, food, dir, scoreS;
  function initSnake(){
    snake=[{x:10,y:10}]; food={x:15,y:15}; dir='RIGHT'; scoreS=0;
    document.onkeydown=e=>{ if(e.key==='ArrowUp')dir='UP'; if(e.key==='ArrowDown')dir='DOWN'; if(e.key==='ArrowLeft')dir='LEFT'; if(e.key==='ArrowRight')dir='RIGHT'; };
    loopSnake();
    notify("Eat the food üêç");
  }
  function loopSnake(){
    gCtx.clearRect(0,0,600,400);
    gCtx.fillStyle='lime'; snake.forEach(s=>gCtx.fillRect(s.x*20,s.y*20,20,20));
    gCtx.fillStyle='red'; gCtx.fillRect(food.x*20,food.y*20,20,20);
    let head={...snake[0]};
    if(dir==='UP') head.y--; if(dir==='DOWN') head.y++; if(dir==='LEFT') head.x--; if(dir==='RIGHT') head.x++;
    snake.unshift(head);
    if(head.x===food.x&&head.y===food.y){ scoreS++; notify(`Score: ${scoreS}`); if(scoreS%5===0) confetti(); food={x:Math.floor(Math.random()*30),y:Math.floor(Math.random()*20)}; }
    else snake.pop();
    if(head.x<0||head.y<0||head.x>=30||head.y>=20||snake.slice(1).some(s=>s.x===head.x&&s.y===head.y)){ notify("Game over!"); gCanvas.onclick=null; return; }
    setTimeout(loopSnake,150);
  }

  // ===============================
  // üéÆ Pong
  // ===============================
  let px, py, bx, by, bdx, bdy, scoreP;
  function initPong(){
    px=280; py=380; bx=300; by=200; bdx=3; bdy=3; scoreP=0;
    document.onkeydown=e=>{ if(e.key==='ArrowLeft') px-=20; if(e.key==='ArrowRight') px+=20; };
    loopPong();
    notify("Bounce the ball past me üèì");
  }
  function loopPong(){
    gCtx.clearRect(0,0,600,400);
    gCtx.fillStyle='white'; gCtx.fillRect(px,py,80,10);
    gCtx.beginPath(); gCtx.arc(bx,by,10,0,2*Math.PI); gCtx.fill();
    bx+=bdx; by+=bdy;
    if(bx<0||bx>600) bdx*=-1;
    if(by<0) bdy*=-1;
    if(by>400){ notify("Game over!"); gCanvas.onclick=null; return; }
    if(by>370&&bx>px&&bx<px+80){ bdy*=-1; scoreP++; notify(`Score: ${scoreP}`); if(scoreP%5===0) confetti(); }
    requestAnimationFrame(loopPong);
  }
  </script>
    <script>
  // ===============================
  // üåà Full Themes System (from your Aura build)
  // ===============================
  const THEME_GROUPS = {
    'Grayscale': [
      { name:'Pure White',bg:'#ffffff',grad:'#f0f0f0',text:'#000000'},
      { name:'White Smoke',bg:'#F5F5F5',grad:'#E8E8E8',text:'#3c3c3c'},
      { name:'Light Gray',bg:'#d3d3d3',grad:'#c0c0c0',text:'#3c3c3c'},
      { name:'Silver Mist',bg:'#b0b0b0',grad:'#a0a0a0',text:'#ffffff'},
      { name:'Steel Gray',bg:'#708090',grad:'#6c7a89',text:'#ffffff'},
      { name:'Slate',bg:'#405d72',grad:'#3c586b',text:'#ffffff'},
      { name:'Gunmetal',bg:'#2c3539',grad:'#364044',text:'#ffffff'},
      { name:'Charcoal',bg:'#36454f',grad:'#2c3539',text:'#ffffff'},
      { name:'Dark Slate',bg:'#2f4f4f',grad:'#243c3c',text:'#ffffff'},
      { name:'Jet Black',bg:'#000000',grad:'#1a1a1a',text:'#ffffff'},
      { name:'White',bg:'#ffffff',text:'#000000'},
      { name:'Gray',bg:'#808080',text:'#ffffff'},
      { name:'Black',bg:'#000000',text:'#ffffff'},
      { name:'Off White',bg:'#fafafa',text:'#3c3c3c'},
      { name:'Dim Gray',bg:'#696969',text:'#ffffff'},
      { name:'Dark Gray',bg:'#a9a9a9',text:'#ffffff'},
      { name:'Slate Gray',bg:'#708090',text:'#ffffff'},
      { name:'Light Slate Gray',bg:'#778899',text:'#ffffff'},
      { name:'Dark Slate Gray',bg:'#2f4f4f',text:'#ffffff'},
      { name:'Snow',bg:'#FFFAFA',text:'#3c3c3c'},
      { name:'Ivory',bg:'#FFFFF0',text:'#3c3c3c'},
      { name:'Gainsboro',bg:'#DCDCDC',text:'#3c3c3c'},
      { name:'Alice Blue',bg:'#F0F8FF',text:'#3c3c3c'},
      { name:'Ghost White',bg:'#F8F8FF',text:'#3c3c3c'},
      { name:'Dark White',bg:'#F1F1F1',text:'#3c3c3c'},
      { name:'Midnight Blue',bg:'#191970',text:'#ffffff'},
      { name:'Dark Blue',bg:'#00008b',text:'#ffffff'},
      { name:'Steel Blue',bg:'#4682b4',text:'#ffffff'},
      { name:'Dark Steel Blue',bg:'#483d8b',text:'#ffffff'},
      { name:'Light Steel Blue',bg:'#b0c4de',text:'#3c3c3c'}
    ],
    'Gradient': [
      { name:'Aurora',bg:'#a8cdf1',grad:'#f7b7b9',text:'#0b3c61'},
      { name:'Sunset',bg:'#fdbb2d',grad:'#22c1c3',text:'#3c3c3c'},
      { name:'Forest',bg:'#43ac62',grad:'#6a9d77',text:'#f0f0f0'},
      { name:'Ocean',bg:'#005bea',grad:'#00c6fb',text:'#ffffff'},
      { name:'Lavender',bg:'#c495d4',grad:'#b669c6',text:'#ffffff'},
      { name:'Night Sky',bg:'#1c1c1c',grad:'#3f3f3f',text:'#ffffff'},
      { name:'Candy',bg:'#ff7e5f',grad:'#feb47b',text:'#ffffff'},
      { name:'Mint',bg:'#9de0ad',grad:'#45a247',text:'#ffffff'},
      { name:'Fire',bg:'#ff416c',grad:'#ff4b2b',text:'#ffffff'},
      { name:'Emerald',bg:'#56ab2f',grad:'#a8e063',text:'#ffffff'},
      { name:'Grape',bg:'#662d8c',grad:'#ed1e79',text:'#ffffff'},
      { name:'Sky',bg:'#a8c0ff',grad:'#3f2b96',text:'#ffffff'},
      { name:'Plum',bg:'#61045f',grad:'#ae2869',text:'#ffffff'},
      { name:'Rose',bg:'#fecfef',grad:'#ff9a9e',text:'#3c3c3c'},
      { name:'Aqua',bg:'#74ebd5',grad:'#acb6e5',text:'#3c3c3c'},
      { name:'Teal',bg:'#008b8b',grad:'#00ced1',text:'#ffffff'},
      { name:'Coral',bg:'#ff6b6b',grad:'#ffc87c',text:'#ffffff'},
      { name:'Violet',bg:'#8c52ff',grad:'#5ce1e6',text:'#ffffff'},
      { name:'Sunburst',bg:'#ff9900',grad:'#ffb366',text:'#ffffff'},
      { name:'Cobalt',bg:'#0047ab',grad:'#1e90ff',text:'#ffffff'},
      { name:'Denim',bg:'#1565c0',grad:'#2196f3',text:'#ffffff'},
      { name:'Sky Blue',bg:'#87ceeb',grad:'#b0e0e6',text:'#3c3c3c'},
      { name:'Tangerine',bg:'#f28500',grad:'#ff7518',text:'#ffffff'},
      { name:'Jade',bg:'#00a86b',grad:'#00a880',text:'#ffffff'},
      { name:'Turquoise',bg:'#40e0d0',grad:'#48d1cc',text:'#3c3c3c'},
      { name:'Indigo',bg:'#4b0082',grad:'#5c4179',text:'#ffffff'},
      { name:'Lilac',bg:'#b66dff',grad:'#c5a0d3',text:'#ffffff'},
      { name:'Forest Green',bg:'#013220',grad:'#015e34',text:'#ffffff'},
      { name:'Navy',bg:'#000080',grad:'#0000a0',text:'#ffffff'},
      { name:'Grapefruit',bg:'#ff6a6a',grad:'#ff66c4',text:'#ffffff'},
      { name:'Lagoon',bg:'#0061ff',grad:'#60efbc',text:'#ffffff'},
      { name:'Peaches',bg:'#ffb347',grad:'#ffcc33',text:'#ffffff'},
      { name:'Neon',bg:'#39ff14',grad:'#00ffc8',text:'#3c3c3c'},
      { name:'Cosmic',bg:'#232c3f',grad:'#48587c',text:'#ffffff'},
      { name:'Electric',bg:'#8e2de2',grad:'#4a00e0',text:'#ffffff'},
      { name:'Ocean 2',bg:'#06637e',grad:'#46a3b2',text:'#ffffff'}
    ],
    'Pastel': [
      { name:'Pastel Dreams',bg:'#ffb3ba',grad:'#ffdfba',text:'#3c3c3c'},
      { name:'Lemonade',bg:'#fffacd',grad:'#b3e0ff',text:'#3c3c3c'},
      { name:'Strawberry',bg:'#f1a89c',grad:'#f3c4c0',text:'#3c3c3c'},
      { name:'Aqua Mint',bg:'#b2fef8',grad:'#b5ffeb',text:'#3c3c3c'},
      { name:'Powder Blue',bg:'#b1d4e0',grad:'#b3d3e3',text:'#3c3c3c'},
      { name:'Wisteria',bg:'#c9b1e5',grad:'#c1b4e5',text:'#3c3c3c'},
      { name:'Dusty Rose',bg:'#e0c9c7',grad:'#e3d2cf',text:'#3c3c3c'},
      { name:'Lime',bg:'#c6ffdd',grad:'#fbd786',text:'#3c3c3c'},
      { name:'Sand',bg:'#f1d2b1',grad:'#e2bc91',text:'#4a3220'},
      { name:'Mystic',bg:'#d4c7f0',grad:'#a894cc',text:'#3c3c3c'},
      { name:'Cotton Candy',bg:'#ffb6c1',grad:'#ffa07a',text:'#3c3c3c'},
      { name:'Bubblegum',bg:'#ff85a1',grad:'#ffc0cb',text:'#ffffff'},
      { name:'Cloudy Sky',bg:'#d3e8f1',grad:'#e0f1f9',text:'#3c3c3c'},
      { name:'Soft Peach',bg:'#ffdab9',grad:'#ffc4b1',text:'#3c3c3c'},
      { name:'Seafoam',bg:'#b5e3d7',grad:'#aed9cb',text:'#3c3c3c'},
      { name:'Lilac Petals',bg:'#c8a2c8',grad:'#d4b7d4',text:'#3c3c3c'}
    ],
    'Metallic': [
      { name:'Gold',bg:'#b8924b',grad:'#d7c797',text:'#4a3220'},
      { name:'Silver',bg:'#c0c0c0',grad:'#d9d9d9',text:'#3c3c3c'},
      { name:'Bronze',bg:'#cd7f32',grad:'#8b4513',text:'#ffffff'},
      { name:'Copper',bg:'#b87333',grad:'#b56149',text:'#ffffff'},
      { name:'Platinum',bg:'#e5e4e2',grad:'#c0c0c0',text:'#3c3c3c'},
      { name:'Ruby',bg:'#e0115f',grad:'#c00742',text:'#ffffff'},
      { name:'Sapphire',bg:'#0f52ba',grad:'#0073e6',text:'#ffffff'},
      { name:'Emerald Gem',bg:'#046307',grad:'#05900a',text:'#ffffff'},
      { name:'Amethyst',bg:'#9966cc',grad:'#b399e5',text:'#ffffff'},
      { name:'Steel',bg:'#4682b4',grad:'#6a8db6',text:'#ffffff'},
      { name:'Chrome',bg:'#8d929b',grad:'#a2a7af',text:'#3c3c3c'},
      { name:'Rose Gold',bg:'#b76e79',grad:'#c18f8f',text:'#ffffff'}
    ],
    'Animated': [
      { name:'Shifting Rainbow', animated:true, grad:'#ff6b6b, #ffc87c, #d5a3ff, #8aff8a', text:'#ffffff' },
      { name:'Ocean Waves', animated:true, grad:'#005bea, #00c6fb, #61d7f6, #005bea', text:'#ffffff' },
      { name:'Forest Glow', animated:true, grad:'#43ac62, #6a9d77, #8bb87d, #43ac62', text:'#ffffff' },
      { name:'Cosmic Dust', animated:true, grad:'#1c1c1c, #3f3f3f, #5b5b5b, #1c1c1c', text:'#ffffff' },
      { name:'Liquid Fire', animated:true, grad:'#ff416c, #ff4b2b, #ff8c00, #ff416c', text:'#ffffff' },
      { name:'Cyber Blue', animated:true, grad:'#00ffc8, #006aff, #8a2be2, #00ffc8', text:'#ffffff' },
      { name:'Synthwave', animated:true, grad:'#8e2de2, #4a00e0, #ff007f, #8e2de2', text:'#ffffff' },
      { name:'Volcano', animated:true, grad:'#d21f3c, #ff4500, #ffd700, #d21f3c', text:'#ffffff' }
    ],
    'Poster': [
      { name:'Crimson',bg:'#8d0426',text:'#ffffff'},
      { name:'Slate',bg:'#405d72',text:'#ffffff'},
      { name:'Carbon',bg:'#232526',text:'#ffffff'},
      { name:'Ruby',bg:'#d62828',text:'#ffffff'},
      { name:'Mahogany',bg:'#4c1e19',text:'#ffffff'},
      { name:'Olive',bg:'#556b2f',text:'#ffffff'},
      { name:'Charcoal',bg:'#36454f',text:'#ffffff'},
      { name:'Lemon',bg:'#fff733',text:'#3c3c3c'},
      { name:'Azure',bg:'#007fff',text:'#ffffff'},
      { name:'Maroon',bg:'#800000',text:'#ffffff'},
      { name:'Jade',bg:'#00a86b',text:'#ffffff'},
      { name:'Navy Blue',bg:'#000080',text:'#ffffff'},
      { name:'Slate Gray',bg:'#708090',text:'#ffffff'},
      { name:'Chocolate',bg:'#7b3f00',text:'#ffffff'},
      { name:'Dark Green',bg:'#006400',text:'#ffffff'},
      { name:'Midnight',bg:'#0a0a23',text:'#ffffff'},
      { name:'Teal Green',bg:'#008080',text:'#ffffff'},
      { name:'Eggplant',bg:'#614051',text:'#ffffff'},
      { name:'Burnt Orange',bg:'#cc5500',text:'#ffffff'},
      { name:'Mustard',bg:'#ffdb58',text:'#3c3c3c'},
      { name:'Terracotta',bg:'#e2725b',text:'#ffffff'},
      { name:'Rust',bg:'#b7410e',text:'#ffffff'},
      { name:'Dark Cyan',bg:'#008b8b',text:'#ffffff'},
      { name:'Dark Magenta',bg:'#8b008b',text:'#ffffff'},
      { name:'Sienna',bg:'#a0522d',text:'#ffffff'},
      { name:'Olive Drab',bg:'#6b8e23',text:'#ffffff'},
      { name:'Pine Green',bg:'#01796f',text:'#ffffff'},
      { name:'Navy',bg:'#000080',text:'#ffffff'},
      { name:'Dark Slate Blue',bg:'#483d8b',text:'#ffffff'},
      { name:'Steel Blue',bg:'#4682b4',text:'#ffffff'},
      { name:'Slate Grey',bg:'#708090',text:'#ffffff'},
      { name:'Deep Sea',bg:'#003153',text:'#ffffff'},
      { name:'Oxblood',bg:'#4a0000',text:'#ffffff'},
      { name:'Graphite',bg:'#2f4f4f',text:'#ffffff'},
      { name:'Falu Red',bg:'#801818',text:'#ffffff'}
    ]
  };

  const themesRoot = document.getElementById('themeList');
  function renderThemes(){
    themesRoot.innerHTML='';
    for(const [group, items] of Object.entries(THEME_GROUPS)){
      const title=document.createElement('h3');
      title.textContent=group;
      themesRoot.appendChild(title);
      const wrap=document.createElement('div');
      wrap.style.display='flex'; wrap.style.flexWrap='wrap';
      items.forEach(t=>{
        const swatch=document.createElement('div');
        swatch.className='chip';
        swatch.textContent=t.name;
        if(t.animated){
          swatch.style.background=`linear-gradient(120deg,${t.grad})`;
          swatch.style.backgroundSize='300% 300%';
          swatch.animate([{backgroundPosition:'0% 50%'},{backgroundPosition:'100% 50%'},{backgroundPosition:'0% 50%'}],{duration:5000,iterations:Infinity});
        } else if(t.grad){
          swatch.style.background=`linear-gradient(135deg,${t.bg},${t.grad})`;
        } else {
          swatch.style.background=t.bg;
        }
        swatch.onclick=()=>applyTheme(t);
        wrap.appendChild(swatch);
      });
      themesRoot.appendChild(wrap);
    }
  }
  renderThemes();

  function applyTheme(t){
    document.body.style.color = t.text || '#fff';
    if(t.animated){
      document.body.style.background=`linear-gradient(120deg,${t.grad})`;
      document.body.style.backgroundSize='300% 300%';
      document.body.animate([{backgroundPosition:'0% 50%'},{backgroundPosition:'100% 50%'},{backgroundPosition:'0% 50%'}],{duration:9000,iterations:Infinity});
    } else if(t.grad){
      document.body.style.background=`linear-gradient(180deg,${t.bg},${t.grad})`;
    } else {
      document.body.style.background=t.bg;
    }
    notify(`Theme set: ${t.name}`);
  }

  // ===============================
  // üéµ Floating Music Widget (YT Music by default)
  // ===============================
  let musicWidget=document.getElementById('musicWidget');
  let dragging=false, offsetX=0, offsetY=0;
  musicWidget.addEventListener('mousedown',e=>{dragging=true;offsetX=e.offsetX;offsetY=e.offsetY;});
  document.addEventListener('mouseup',()=>dragging=false);
  document.addEventListener('mousemove',e=>{
    if(dragging){
      musicWidget.style.left=(e.pageX-offsetX)+"px";
      musicWidget.style.top=(e.pageY-offsetY)+"px";
    }
  });

  // üöÄ Load chatbot model on startup
  loadModel();
  </script>
</body>
</html>
